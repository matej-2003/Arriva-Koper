<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Išči postaje</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
	<style>
		table td {
			padding: 0.2em 0.5em;
		}

		.schedule {
			margin-top: 1em;
			padding-bottom: 1em;
			padding-top: 1em;
			border-top: 1px solid #ddd;
			display: flex;
			flex-direction: column;
			gap: 2px;
		}

		.station-span {
			display: block;
		}

		.bg-past {
			background-color: aliceblue;
		}
		
		#find {
			width: 100%;
		}
	</style>
</head>

<body>
	<div class="container-sm">
		<br>
		<h2>Išči avtobuse</h2>
		<table class="search_table col-sm-6">
			<tr>
				<td>Od</td>
				<td><input class="form-control form-control-sm" type="text" id="od" list="postaje" value="Koper"></td>
				<td colspan="2"><button id="switch" class="btn btn-sm btn-outline-secondary">Zamenjaj</button></td>
			</tr>
			<tr>
				<td>Do</td>
				<td><input class="form-control form-control-sm" type="text" id="do" list="postaje" value="Tržnica"></td>
			</tr>
			<tr>
				<td>Datum</td>
				<td><input class="form-control form-control-sm" type="date" id="date"></td>
			</tr>
			<tr>
				<td colspan="2"><button id="find" class="btn btn-sm btn-primary">Najdi</button></td>
			</tr>
		</table>
		<datalist id="postaje"></datalist>
		<a class="btn btn-link btn-sm" href="./postaje.html">Postaje</a>
		<div class="schedule" id="schedule"></div>
	</div>


	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"></script>
	<script src="https://code.jquery.com/jquery-3.6.3.min.js"></script>

	<script>
		let postaje_datalist = $("#postaje");
		fetch('./data/postaje.json')
			.then((response) => response.json())
			.then((postaje) => {
				for (let p of postaje) {
					postaje_datalist.append(
						$(`<option>${p}</option>`).attr({ 'value': p })
					);
				}
			});
		// fetch('./data/postaje')
		// .then((response) => response.text())
		// .then((text) => {
		let now = new Date();
		let d = Date.parse(`${now.getDate()}/${now.getMonth()}/${now.getFullYear()} `);
	</script>
	<script src="./script.js" defer></script>
</body>

</html>